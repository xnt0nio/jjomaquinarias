{% extends 'core/base.html' %}
{% load static %}
<style>
 .single-product-item {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centra el contenido dentro de la tarjeta */
    width: calc(25% - 30px); /* Ajusta el ancho para pantallas grandes */
    box-sizing: border-box;
    max-height: 450px; /* Aumenta la altura máxima */
    border: 1px solid #ddd; /* Opcional: añade un borde */
    border-radius: 8px; /* Opcional: bordes redondeados */
    overflow: hidden; /* Oculta el contenido que se desborda */
    background-color: #fff; /* Color de fondo */
    padding: 20px; /* Espacio interno */
    margin-bottom: 30px; /* Espacio en la parte inferior */
    text-align: center; /* Centra el texto dentro de la tarjeta */
}

.product-image img {
    height: 200px; /* Ajusta la altura de la imagen */
    width: 100%; /* Asegura que la imagen ocupe el ancho completo */
    object-fit: cover; /* Cubre el contenedor manteniendo la proporción */
}

.product-content {
    flex-grow: 1; /* Permite que el contenido de la tarjeta crezca y llene el espacio disponible */
    text-align: center; /* Centra el texto dentro de la tarjeta */
}

.product-content h3 {
    font-size: 1.2em; /* Ajusta el tamaño del texto */
    margin: 10px 0; /* Espacio superior e inferior */
    padding: 0; /* Elimina rellenos adicionales */
    overflow: hidden; /* Oculta el texto que se desborda */
    text-overflow: ellipsis; /* Muestra puntos suspensivos si el texto es muy largo */
    white-space: nowrap; /* Asegura que el texto no se divida en varias líneas */
    line-height: 1.2em; /* Ajusta el alto de la línea para evitar desbordamientos */
}

.product-content a {
    display: inline-block; /* Hace que los enlaces se comporten como bloques en línea */
    margin-top: 10px; /* Espacio superior para separar del título */
    color: #d44638; /* Ajusta el color del enlace según sea necesario */
    text-decoration: none; /* Elimina el subrayado de los enlaces */
}

.product-lists {
    display: flex;
    flex-wrap: wrap;
    gap: 30px; /* Espacio entre las tarjetas */
    justify-content: center; /* Centra las tarjetas en el contenedor */
}

@media (max-width: 992px) {
    .single-product-item {
        width: calc(50% - 30px); /* Ajusta el ancho para pantallas medianas */
    }
}

@media (max-width: 768px) {
    .single-product-item {
        width: calc(100% - 30px); /* Ajusta el ancho para pantallas pequeñas */
    }
}

.more-products {
    margin-bottom: 40px; /* Ajusta este valor para aumentar o disminuir el espacio debajo de la sección */
}

.container {
    margin-bottom: 40px; /* Ajusta este valor si la sección está dentro de un contenedor con márgenes */
}

</style>
{% block css %}
{% endblock %}
{% block contenido %}

<div class="loader">
    <div class="loader-inner">
        <div class="circle"></div>
    </div>
</div>

<div class="single-product mt-150 mb-150">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <div class="single-product-img">
                    <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
                </div>
            </div>
            <div class="col-md-6">
                <div class="single-product-content">
                    <h3>{{ producto.nombre }}</h3>
                    <p>{{ producto.descripcion }}</p>
                </div>
                <hr class="mb-5" style="background-color: #bcc2b4; opacity: 1;">
                <div class="section-title">
                    <h4 class="text-center"><span class="orange-text">precio sujeto</span> a cotización</h4>
                    <a class="social-btn" href="mailto:ventas@jjomaquinarias.cl"
                    style="max-width: 200px; width: auto; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px; padding: 0.5em 1em; text-decoration: none; color: #ffffff; background-color: #d44638; border-radius: 5px;">
                    <i class="fas fa-envelope" style="margin-right: 0.5em;"></i> Enviar Correo
                 </a>
                 
                 <a class="social-btn" href="https://wa.me/+56966378461"
                    style="max-width: 200px; width: auto; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px; padding: 0.5em 1em; text-decoration: none; color: #ffffff; background-color: #25D366; border-radius: 5px;">
                    <i class="fab fa-whatsapp" style="margin-right: 0.5em;"></i> WhatsApp
                 </a>
                </div>
            </div>
        </div>
    </div>

    <div class="checkout-section mt-50 mb-50">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="checkout-accordion-wrap">
                        <div class="accordion" id="accordionExample">
                            <div class="card single-accordion">
                                <div class="card-header" id="headingOne">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            Especificaciones
                                        </button>
                                    </h5>
                                </div>
                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div class="billing-address-form">
                                            <div class="row" style="margin-bottom: 40px;">
                                                {% if producto.marca %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-tag"></i> <!-- Icono para "Marca" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Marca</h3>
                                                            <p>{{ producto.marca }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% if producto.modelo %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-car"></i> <!-- Icono para "Modelo" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Modelo</h3>
                                                            <p>{{ producto.modelo }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% if producto.motor %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div
                                                        class="list-box d-flex justify-content-start align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-cogs"></i> <!-- Icono para "Motor" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Motor</h3>
                                                            <p>{{ producto.motor }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% if producto.potencia %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-bolt"></i> <!-- Icono para "Potencia" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Potencia</h3>
                                                            <p>{{ producto.potencia }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% if producto.traccion %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-road"></i> <!-- Icono para "Tracción" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Tracción</h3>
                                                            <p>{{ producto.traccion }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                     

                                                {% if producto.alimentacion %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-gas-pump"></i>
                                                            <!-- Icono para "Alimentación" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Alimentación</h3>
                                                            <p>{{ producto.alimentacion }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% if producto.neumaticos %}
                                                <div class="col-lg-4 col-md-6 mb-4 mb-lg-5">
                                                    <div class="list-box d-flex align-items-center">
                                                        <div class="list-icon">
                                                            <i class="fas fa-circle"></i>
                                                            <!-- Icono para "Neumáticos" -->
                                                        </div>
                                                        <div class="content">
                                                            <h3>Neumáticos</h3>
                                                            <p>{{ producto.neumaticos }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card single-accordion">
                                <div class="card-header" id="headingTwo">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                            data-target="#collapseTwo" aria-expanded="false"
                                            aria-controls="collapseTwo">
                                            Caracteristica
                                        </button>
                                    </h5>
                                </div>
                                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div class="shipping-address-form">
                                            <p>{{ producto.caracteristica  }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card single-accordion">
                                <div class="card-header" id="headingThree">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                            data-target="#collapseThree" aria-expanded="false"
                                            aria-controls="collapseThree">
                                            Equipamiento
                                        </button>
                                    </h5>
                                </div>
                                <div id="collapseThree" class="collapse" aria-labelledby="headingThree"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div class="card-details">
                                            <p>{{ producto.equipamiento }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="more-products mb-150 spacing-bottom">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2 text-center">
                    <div class="section-title">
                        <h3><span class="orange-text">Productos</span> similares</h3>
                    </div>
                </div>
            </div>
            <div class="product-lists row">
                {% for similar in productos_similares %}
                <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
                    <div class="single-product-item" style="max-height: 390px;">
                        <div class="product-image">
                            <a href="{% url 'producto' similar.id %}">
                                <img src="{{ similar.imagen.url }}" alt="{{ similar.nombre }}" style="height: 200px; width: 100%; object-fit: cover;">
                            </a>
                        </div>
                        <div class="product-content text-center" style="padding: 20px;">
                            <h3>{{ similar.nombre }}</h3>
                            <a href="{% url 'producto' similar.id %}" class="cart-btn">
                                <i class="fas fa-eye"></i> Ver
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>




{% endblock %}
{% block js %}

{% endblock %}
